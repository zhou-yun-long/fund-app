import{c as et,d as W,n as j,E as at,j as nt,k as f,r as N,p as I,ah as st,ac as J,am as K,x as ot,aC as lt,y as U,aD as it,z as rt,aE as ut,A as ct,B as dt,R as E,M as a,U as D,V as L,O as $,N as d,L as vt,J as F,$ as mt,W as ft,X as _t,a3 as bt,_ as gt}from"./index-COLuSNnH.js";/* empty css              *//* empty css              */import"./index-BR0IqM1Y.js";import{F as ht}from"./index-BsOY-DgV.js";import{N as yt}from"./index-DtBFF6eJ.js";import{B as Vt}from"./index-dROw2vyl.js";import"./use-id-Bb8U-BO_.js";const[kt,R]=et("slider"),Ct={min:U(0),max:U(100),step:U(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:j,buttonSize:j,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var xt=W({name:kt,props:Ct,emits:["change","dragEnd","dragStart","update:modelValue"],setup(e,{emit:B,slots:_}){let v,l,m;const b=N(),M=[N(),N()],g=N(),P=rt(),h=I(()=>Number(e.max)-Number(e.min)),z=I(()=>{const t=e.vertical?"width":"height";return{background:e.inactiveColor,[t]:st(e.barHeight)}}),x=t=>e.range&&Array.isArray(t),y=()=>{const{modelValue:t,min:o}=e;return x(t)?`${(t[1]-t[0])*100/h.value}%`:`${(t-Number(o))*100/h.value}%`},n=()=>{const{modelValue:t,min:o}=e;return x(t)?`${(t[0]-Number(o))*100/h.value}%`:"0%"},A=I(()=>{const o={[e.vertical?"height":"width"]:y(),background:e.activeColor};g.value&&(o.transition="none");const i=()=>e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left";return o[i()]=n(),o}),w=t=>{const o=+e.min,i=+e.max,c=+e.step;t=ct(t,o,i);const r=Math.round((t-o)/c)*c;return it(o,r)},V=()=>{const t=e.modelValue;x(t)?m=t.map(w):m=w(t)},k=t=>{var o,i;const c=(o=t[0])!=null?o:Number(e.min),r=(i=t[1])!=null?i:Number(e.max);return c>r?[r,c]:[c,r]},u=(t,o)=>{x(t)?t=k(t).map(w):t=w(t),J(t,e.modelValue)||B("update:modelValue",t),o&&!J(t,m)&&B("change",t)},s=t=>{if(t.stopPropagation(),e.disabled||e.readonly)return;V();const{min:o,reverse:i,vertical:c,modelValue:r}=e,C=K(b),Q=()=>c?i?C.bottom-t.clientY:t.clientY-C.top:i?C.right-t.clientX:t.clientX-C.left,Z=c?C.height:C.width,T=Number(o)+Q()/Z*h.value;if(x(r)){const[Y,H]=r,tt=(Y+H)/2;T<=tt?u([T,H],!0):u([Y,T],!0)}else u(T,!0)},S=t=>{e.disabled||e.readonly||(P.start(t),l=e.modelValue,V(),g.value="start")},p=t=>{if(e.disabled||e.readonly)return;g.value==="start"&&B("dragStart",t),ot(t,!0),P.move(t),g.value="dragging";const o=K(b),i=e.vertical?P.deltaY.value:P.deltaX.value,c=e.vertical?o.height:o.width;let r=i/c*h.value;if(e.reverse&&(r=-r),x(m)){const C=e.reverse?1-v:v;l[C]=m[C]+r}else l=m+r;u(l)},X=t=>{e.disabled||e.readonly||(g.value==="dragging"&&(u(l,!0),B("dragEnd",t)),g.value="")},q=t=>typeof t=="number"?R("button-wrapper",["left","right"][t]):R("button-wrapper",e.reverse?"left":"right"),G=(t,o)=>{const i=g.value==="dragging";if(typeof o=="number"){const c=_[o===0?"left-button":"right-button"];let r;if(i&&Array.isArray(l)&&(r=l[0]>l[1]?v^1:v),c)return c({value:t,dragging:i,dragIndex:r})}return _.button?_.button({value:t,dragging:i}):f("div",{class:R("button"),style:ut(e.buttonSize)},null)},O=t=>{const o=typeof t=="number"?e.modelValue[t]:e.modelValue;return f("div",{ref:M[t??0],role:"slider",class:q(t),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":o,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstartPassive:i=>{typeof t=="number"&&(v=t),S(i)},onTouchend:X,onTouchcancel:X,onClick:lt},[G(o,t)])};return u(e.modelValue),at(()=>e.modelValue),M.forEach(t=>{nt("touchmove",p,{target:t})}),()=>f("div",{ref:b,style:z.value,class:R({vertical:e.vertical,disabled:e.disabled}),onClick:s},[f("div",{class:R("bar"),style:A.value},[e.range?[O(0),O(1)]:O()])])}});const wt=dt(xt),Nt={class:"calculator-page"},Bt={class:"params-section"},St={class:"param-item"},Pt={class:"param-options"},At=["onClick"],$t={class:"param-item"},Rt={class:"param-options"},Mt={class:"param-item"},Tt={class:"param-options"},Et=["onClick"],Ft={class:"slider-value"},It={class:"param-item"},zt={class:"param-options"},pt=["onClick"],Ot={class:"slider-value"},Ut={class:"result-section"},Dt={class:"result-cards"},Lt={class:"result-card main"},Xt={class:"card-value"},Yt={class:"result-card"},Ht={class:"card-value"},jt={class:"result-card profit"},Jt={class:"card-value up"},Kt={class:"result-card"},Wt={class:"card-value up"},qt={class:"invest-info"},Gt={class:"info-item"},Qt={class:"info-item"},Zt={class:"bottom-action"},te=W({__name:"Calculator",setup(e){const B=ft(),_=N(1e3),v=N("month"),l=N(36),m=N(10),b=I(()=>{const y=_.value,n=l.value,A=m.value/100,w=v.value==="week"?52:12,V=v.value==="week"?Math.floor(n*4.33):n,k=A/w,u=y*V;let s;k===0?s=u:s=y*((Math.pow(1+k,V)-1)/k)*(1+k);const S=s-u,p=u>0?S/u*100:0;return{totalInvest:u,finalValue:s,totalProfit:S,profitRate:p,totalPeriods:V}}),M=[500,1e3,2e3,3e3,5e3],g=[12,24,36,60,120],P=[5,8,10,12,15];function h(y){return y>=1e4?(y/1e4).toFixed(2)+"万":y.toFixed(2)}function z(){B.back()}function x(){bt("请先选择定投基金"),B.push("/search")}return(y,n)=>{const A=yt,w=ht,V=wt,k=_t,u=Vt;return F(),E("div",Nt,[f(A,{title:"定投计算器","left-arrow":"",onClickLeft:z}),a("div",Bt,[a("div",St,[n[5]||(n[5]=a("div",{class:"param-label"},"每期投入金额（元）",-1)),a("div",Pt,[(F(),E(D,null,L(M,s=>a("div",{key:s,class:$(["option-tag",{active:_.value===s}]),onClick:S=>_.value=s},d(s),11,At)),64))]),f(w,{modelValue:_.value,"onUpdate:modelValue":n[0]||(n[0]=s=>_.value=s),modelModifiers:{number:!0},type:"number",placeholder:"自定义金额",class:"custom-input"},null,8,["modelValue"])]),a("div",$t,[n[6]||(n[6]=a("div",{class:"param-label"},"定投周期",-1)),a("div",Rt,[a("div",{class:$(["option-tag",{active:v.value==="week"}]),onClick:n[1]||(n[1]=s=>v.value="week")}," 每周 ",2),a("div",{class:$(["option-tag",{active:v.value==="month"}]),onClick:n[2]||(n[2]=s=>v.value="month")}," 每月 ",2)])]),a("div",Mt,[n[7]||(n[7]=a("div",{class:"param-label"},"定投时长（月）",-1)),a("div",Tt,[(F(),E(D,null,L(g,s=>a("div",{key:s,class:$(["option-tag",{active:l.value===s}]),onClick:S=>l.value=s},d(s>=12?`${s/12}年`:`${s}月`),11,Et)),64))]),f(V,{modelValue:l.value,"onUpdate:modelValue":n[3]||(n[3]=s=>l.value=s),min:6,max:240,step:6,class:"month-slider"},null,8,["modelValue"]),a("div",Ft,d(l.value)+"个月 ≈ "+d((l.value/12).toFixed(1))+"年",1)]),a("div",It,[n[8]||(n[8]=a("div",{class:"param-label"},"预期年化收益率（%）",-1)),a("div",zt,[(F(),E(D,null,L(P,s=>a("div",{key:s,class:$(["option-tag",{active:m.value===s}]),onClick:S=>m.value=s},d(s)+"% ",11,pt)),64))]),f(V,{modelValue:m.value,"onUpdate:modelValue":n[4]||(n[4]=s=>m.value=s),min:0,max:30,step:1,class:"return-slider"},null,8,["modelValue"]),a("div",Ot,d(m.value)+"%",1)])]),a("div",Ut,[n[13]||(n[13]=a("div",{class:"result-header"},[a("span",null,"预期收益"),a("span",{class:"result-tip"},"仅供参考，不代表实际收益")],-1)),a("div",Dt,[a("div",Lt,[n[9]||(n[9]=a("div",{class:"card-label"},"预期总资产",-1)),a("div",Xt,"¥"+d(h(b.value.finalValue)),1)]),a("div",Yt,[n[10]||(n[10]=a("div",{class:"card-label"},"总投入",-1)),a("div",Ht,"¥"+d(h(b.value.totalInvest)),1)]),a("div",jt,[n[11]||(n[11]=a("div",{class:"card-label"},"预期收益",-1)),a("div",Jt,"+¥"+d(h(b.value.totalProfit)),1)]),a("div",Kt,[n[12]||(n[12]=a("div",{class:"card-label"},"收益率",-1)),a("div",Wt,"+"+d(b.value.profitRate.toFixed(2))+"%",1)])]),a("div",qt,[a("div",Gt,[f(k,{name:"info-o"}),a("span",null,"共"+d(b.value.totalPeriods)+"期，"+d(v.value==="week"?"每周":"每月")+"投入"+d(_.value)+"元",1)]),a("div",Qt,[f(k,{name:"clock-o"}),a("span",null,"定投"+d(l.value)+"个月后的预期收益",1)])])]),a("div",Zt,[f(u,{block:"",type:"primary",size:"large",onClick:x},{default:vt(()=>[...n[14]||(n[14]=[mt(" 选择基金开始定投 ",-1)])]),_:1})])])}}}),ue=gt(te,[["__scopeId","data-v-4535326d"]]);export{ue as default};
